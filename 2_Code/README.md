# 2_code/ -源代码目录

**目的:** 存放所有用于模拟、分析和可视化的代码。代码的质量是评分的重要组成部分。

**内容:**
- **main_simulation.py:** 主程序。负责设置参数、调用其他模块的函数、控制整个模拟流程。
- **numerical_methods.py:** 核心算法。实现具体的数值方法，例如龙格-库塔法、Crank-Nicolson、Metropolis算法等。这个模块应该具有通用性，不依赖于特定的模拟场景。
- **data_analysis.py:** 数据分析。存放用于处理 raw_data 的函数，例如计算平均值、误差、傅里叶变换、拟合曲线等。
- **visualization.py:** 可视化。存放所有绘图函数。这些函数应该接收数据作为输入，然后生成图表。这使得绘图逻辑与计算逻辑分离。
- **utils.py (可选):** 存放一些通用的辅助函数，比如读取配置文件、计时等。
- **requirements.txt (可选):** 项目依赖。通过 pip freeze > requirements.txt 命令生成，确保任何人都可以在新环境中复现你们的计算环境。
- **README.md:** 代码说明书。必须清晰地说明：
  - 每个代码文件的功能。
  - 如何配置环境 (pip install -r requirements.txt)。
  - 如何运行主程序 (python main_simulation.py)。


## 注意：
你也可以不按照预设的目录结构，按照自己的喜好组织代码，只要能够清晰地说明每个文件的功能即可。
 我将为这个系泊系统仿真程序创建一个README.md文件。


# 海洋浮标系泊系统仿真程序

这是一个用于模拟和分析海洋浮标系泊系统的Python程序。本程序可以计算不同风速条件下系泊系统的状态，包括悬链线形状、系统倾斜角度、浮标游动范围等参数，并提供可视化图表。

## 功能模块

程序分为以下几个主要模块：

### 1. 参数设置模块 (`MooringSystemParams`)

- 定义系统所有物理参数，包括：
  - 环境参数（重力加速度、海水密度、水深等）
  - 浮标参数（直径、高度、质量）
  - 钢管参数（长度、直径、质量）
  - 钢桶参数（长度、直径、质量）
  - 重物球参数（质量）
  - 锚链参数（长度、单位质量）
  - 锚参数（质量）
  - 风速参数（12m/s和24m/s两种工况）

### 2. 核心算法模块 (`MooringSystemSolver`)

- 实现系统各组件力学计算：
  - 计算风荷载、浮力、净湿重等基本物理量
  - 实现悬链线方程和参数求解
  - 计算各部件倾斜角度和坐标位置
  - 模拟锚链形状和系统整体状态

### 3. 数据分析模块 (`MooringSystemAnalyzer`)

- 分析计算结果：
  - 汇总不同风速条件下的系统状态参数
  - 验证系统是否满足工作效果标准（如钢桶倾斜角度）

### 4. 可视化模块 (`MooringSystemVisualizer`)

- 绘制系统状态图表：
  - 不同风速下的锚链形状图
  - 浮标游动区域示意图（顶视图）

### 5. 主程序模块

- 整合以上模块，执行完整的仿真流程：
  - 初始化系统参数
  - 求解不同风速下的系统状态
  - 分析结果并输出关键参数
  - 生成可视化图表

## 环境配置

### 系统要求
- Python 3.6+

### 依赖包安装

创建`requirements.txt`文件，内容如下：

```
numpy>=1.19.0
matplotlib>=3.3.0
scipy>=1.5.0
```

然后执行以下命令安装依赖：

```bash
pip install -r requirements.txt
```

### 中文字体支持

本程序使用SimHei（黑体）显示中文。如果您的系统中没有这种字体，可能需要：

1. 安装相应的中文字体
2. 或修改代码中的字体设置：
   ```python
   plt.rcParams['font.sans-serif'] = ['Your_Font_Name']
   ```

## 使用方法

1. 将程序代码保存为`mooring_simulation.py`
2. 在命令行中执行：

```bash
python mooring_simulation.py
```

## 输出结果

程序运行后将输出：

1. 控制台信息：
   - 初始吃水深度
   - 风荷载计算结果
   - 悬链线拟合信息
   - 不同风速下的系统状态参数（吃水深度、游动区域、各部件倾斜角度等）

2. 可视化图表：
   - 不同风速下的锚链形状图（侧视图）
   - 浮标游动区域示意图（顶视图）

## 系统原理

本程序基于悬链线理论模拟锚链形状，考虑了以下物理现象：

1. 浮标受风荷载产生的水平位移
2. 钢管和钢桶受力后的倾斜
3. 锚链在自重和水平张力作用下形成的悬链线形状

程序使用优化算法求解满足边界条件的悬链线参数，确保锚链形状的准确性。

