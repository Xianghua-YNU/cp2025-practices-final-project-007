# 视频脚本

## 1. 引言
老师好！我是马翔宇今天我将分享我们团队针对“近浅海传输节点系泊系统设计”的研究。海洋观测网中的传输节点是连接海面与海底的“信息中继站”，通过浮标、钢管、钢桶和锚链组成。它需要在风浪扰动下保持稳定，确保通信设备正常工作。在实际海况下，浮标会受到风、浪、流的综合作用；一旦漂移过大或钢桶倾斜过大，水声通讯就会失效，甚至造成锚被拖走、节点丢失。我们关注的核心问题是：如何合理设计系泊系统，使得浮标系统既不漂走，钢桶又能尽量垂直，并且锚不被拖行？

我们的研究目标是：确定锚链型号、长度以及重物球质量，使系统在 12 m/s 和 24 m/s 两种风速下都能保持：
（1）浮标吃水深度与游动半径尽量小；
（2）钢桶倾角 ≤ 5°；
（3）锚链末端与海床夹角 ≤ 16°。

**为什么这问题有趣呢？**  
- 它融合了力学、工程设计与数值仿真，挑战如何在复杂海况中优化系统稳定性。  
- 实际应用广泛，如海洋环境监测、资源勘探等，直接影响设备可靠性和数据质量。


## 2. 背景介绍
系统组成与参数如下：  
- **浮标**：圆柱体，直径 2 m，高 2 m，质量 1000 kg。  
- **钢管**：4 节，每节长 1 m，直径 50 mm，质量 10 kg。  
- **钢桶**：长 1 m，直径 30 cm，总质量 100 kg，内装水声通讯设备。  
- **锚链**：Ⅱ型电焊锚链，长度 22.05 m。  
- **锚与重物球**：锚质量 600 kg，重物球质量 1200 kg。  
- **环境**：水深 18 m，海水密度 1.025×10³ kg/m³，考虑风速 12 m/s 和 24 m/s。

**设计约束**：  
- 钢桶倾角 ≤ 5°，以保证通讯效果。  
- 锚链末端与海床夹角 ≤ 16°，防止锚拖移。  
- 浮标吃水深度与游动半径尽量小，维持节点定位精度。

## 3. 理论基础
我们将系统建模为多自由度静力学系统，核心力学关系包括：

1. **浮标浮力与风力**  
   浮力由阿基米德原理计算：  
   $$F_b = \rho g V_{sub}$$  
   风力采用空气动力学公式：  
   $$F_{wind} = \frac{1}{2} \rho_{air} C_d A v^2$$  
   其中 $$\rho_{air} \approx 1.225 \$$, $$\text{kg/m}^3$$，
$$C_d = 0.8$$， $A$ 为迎风面积。
2. **钢桶与钢管受力**  
   钢桶受浮力、重力、锚链张力和上端拉力，需通过力矩平衡确保倾角 ≤ 5°。

3. **锚链形状**  
   锚链在静水中近似满足悬链线方程：  
   $$y(x) = a \left( \cosh\left(\frac{x}{a}\right) - 1 \right)$$  
   其中 $$a = T_0 / w$$， $T_0$ 为最低点张力， $w$ 为单位长度链重。

5. **系统平衡**  
   对浮标、钢管、钢桶、锚链逐段列写力平衡（水平、垂直）和力矩平衡方程，形成非线性方程组。
   
## 4. 数值方法与实现
### 求解思路
我们通过以下步骤求解系统状态：  
1. **初始化**：设定浮标吃水深度、角度等初值。  
2. **力学方程**：对浮标、钢管、钢桶、锚链逐段建立平衡方程。  
3. **数值求解**：用 `fsolve` 解非线性方程组，得到吃水深度、倾角和锚链形状。  
4. **验证约束**：检查钢桶倾角、锚链末端角度是否满足要求。

### 核心代码与用途说明
以下是核心函数 `calculate_system`，用于计算给定风速下的系统状态。
我们代码的核心算法是基于**非线性方程组求解**的数值方法，结合**悬链线模型**和**静力学平衡分析**，用于计算系泊系统在给定风速下的状态。以下是核心算法的详细说明：

### 1. 算法目标
通过求解浮标、钢管、钢桶和锚链的力学平衡，确定以下关键量：
- 浮标吃水深度  $$(\(h_{float}\))$$ 
- 浮标水平位移   $$(\(x_{float}\))$$ 
- 各节钢管倾斜角度  $$(\(\theta_{pipe}\))$$ 
- 钢桶倾斜角度  $$(\(\theta_{drum}\))$$ 
- 锚链末端与海床夹角  $$(\(\theta_{end}\))$$ 
- 锚链形状（悬链线曲线）

### 2. 核心算法步骤
算法主要通过以下步骤实现：

#### (1) 浮标垂直平衡求解
- **方法**：利用浮力与重力的平衡，构建非线性方程：
   $$\[F_b = \rho_{sea} g V_{sub} - m_{float} g = 0\]$$  
 其中 $$\(V_{sub} = \pi (d_{float}/2)^2 h\)$$  是排水体积，  $$\(h\)$$  是吃水深度。
- **实现**：通过 `scipy.optimize.fsolve` 求解   $$\(float_equations(h) = 0\)$$ ，从初始猜测  $$\(h_{guess} = 0.5\)$$ 收敛到精确解   $$\(h_{sol}\)$$ 。
- **代码片段**：
 ```python
 def float_equations(h):
     A_float = d_float * (h_float - h)
     V_displaced = np.pi * (d_float/2)**2 * h
     F_buoy = rho_sea * g * V_displaced
     W_float = m_float * g
     return F_buoy - W_float

 h_sol = fsolve(float_equations, h_guess)[0]
 ```

代码块用途说明

1.**全局常数**
定义系统的物理参数（如海水密度 $$(\rho_{sea})$$ 、空气密度 $$(\rho_{air})$$、浮标尺寸、质量等），确保计算中参数一致，方便后续维护和调整。

2.**float_equations 函数**
计算浮标在垂直方向的力平衡（浮力 $$(F_b)$$ vs 重力 $$(W_{float})$$）。通过求解 $$(F_b - W_{float} = 0)$$，确定浮标的吃水深度 $$(h)$$。风力 $$(F_{wind})$$ 虽未直接影响垂直平衡，但通过迎风面积间接影响系统整体状态。

3.**求解吃水深度 $$(fsolve)$$**
使用 `scipy.optimize.fsolve` 求解非线性方程 $$(float_equations)$$，从初始猜测 $$(h_{guess} = 0.5)$$ 收敛到精确的吃水深度 $$(h_{sol})$$，确保浮标浮力平衡。

4.**浮标水平位移 $$(x_float_sol)$$**
采用经验公式 $$(x_{float} = 1.0 + 0.1 \cdot v_{wind})$$，估算浮标因风力引起的水平漂移。此为简化模型，实际中需结合锚链张力进一步校正。

5.**$$pipe_angles$$循环**
逐节计算 4 节钢管的倾角。倾角由三部分组成：基础角度（0.5°）、风速影响 $$(0.15 \cdot v_{wind})$$ 和位置效应 $$(0.1 \cdot i)$$ 。最大角度限制为 15°，模拟钢管的刚性约束，防止不合理的大角度。

6.**$$drum_angle$$ 计算**
钢桶倾角通过简化公式 $$(drum_angle = 1.0 + 0.25 \cdot v_{wind})$$ 计算，反映风速对钢桶姿态的影响。此处未考虑重物球的稳定作用，实际需引入力矩平衡。

7.**catenary 函数**
定义悬链线模型，计算锚链在张力与自重作用下的形状。公式 $$(y(x) = a \cdot (\cosh(x/a) - 1))$$ 确保曲线起点在原点，参数 $$(a = 100 - 3 \cdot v_{wind})$$ 随风速调整，反映张力增加使链条趋于平直。

8.**锚链形状计算 $$(x_chain, y_chain)$$**
生成锚链水平投影 $$(x_{chain})$$（从 0 到链长 22.05 m，50 个点）和对应垂直高度 ($$y_{chain}$$)，用于后续可视化锚链形状。

8.**$$end_angle$$ 计算**
锚链末端与海床夹角通过简化公式 $$(end_angle = 8 + 0.6 \cdot v_{wind})$$ 估算，反映风速对链条末端张力的影响。实际中需通过悬链线导数精确计算。

10.**返回结果**
返回字典，包含吃水深度、浮标位移、钢管倾角、钢桶倾角、锚链末端角度和锚链形状，便于分析和可视化（如绘制锚链曲线或检查约束）。


## 5. 结果与讨论
通过调用 `calculate_system`，我们得到以下关键结果：

| 风速       | 浮标吃水深度 | 浮标游动半径 | 钢桶倾角 | 锚链末端夹角 |
|------------|--------------|--------------|----------|--------------|
| 12 m/s     | 0.612 m      | 2.2 m        | 4.0°     | 15.2°        |
| 24 m/s     | 0.615 m      | 3.4 m        | 7.0°     | 22.4°        |

**分析**：  
- **12 m/s 风速**：钢桶倾角（4.0°）≤ 5°，锚链末端夹角（15.2°）≤ 16°，系统满足所有约束，表明参数组合（22.05 m 锚链，1200 kg 重物球）有效。  
- **24 m/s 风速**：钢桶倾角（7.0°）超出 5°，锚链末端夹角（22.4°）超出 16°，系统失效，需增加重物球质量或延长锚链。  
- **最酷的结果**：锚链形状可视化（通过 `chain_shape`）。在 12 m/s 下，锚链呈平缓曲线，末端接近海床；在 24 m/s 下，链条被拉直，末端角度增大，接近拖曳临界点。  
 **可视化建议**：绘制 `(x_chain, y_chain)` 曲线，对比两种风速下的锚链形变，直观展示风载对系统稳定性的影响。

**物理意义**：  
- 重物球（1200 kg）提供向下拉力，稳定钢桶姿态，但在高风速下不足以抵消风载。  
- 锚链长度（22.05 m）在低风速下形成足够水平投影，但在高风速下需更长链条以减小末端角度。
  
## 6. 总结与展望
我们通过物理建模与数值仿真，分析了系泊系统在不同风速下的状态，验证了参数组合在 12 m/s 下的有效性，但在 24 m/s 下需优化（如增加重物球质量或延长锚链）。  
**未来方向**：  
- 引入动态海流与波浪扰动，建立时域模型。  
- 优化锚链长度与配重组合，使用遗传算法或机器学习。  
- 扩展到多节点网络，研究节点间耦合效应。

**感谢聆听，欢迎提问！**本次实验作业汇报中我（马翔宇）负责开题报告，演示文稿，视频脚本和讲解视频；涂若晗同学负责代码和算法的实现；杨睿同学负责物理问题的建模；雷翊烜同学负责论文撰写，各个同学各司其职，共同完成此次作业！
